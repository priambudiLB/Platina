[{"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\auth\\accessToken.js":"1","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\auth\\login.js":"2","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\auth\\sign-up.js":"3","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\product\\index.js":"4","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\product\\[id].js":"5","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\cart.js":"6","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\home.js":"7","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\index.js":"8","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\login.js":"9","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\menu\\[id].js":"10","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\menu.js":"11","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\sign-up.js":"12","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\_app.js":"13","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\_document.js":"14","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\BackButton.js":"15","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Footer.js":"16","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Layout.js":"17","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Loading.js":"18","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Navbar.js":"19","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Notify.js":"20","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\product\\MenuItem.js":"21","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Toast.js":"22","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\CartItem.js":"23"},{"size":1098,"mtime":1637823852396,"results":"24","hashOfConfig":"25"},{"size":1225,"mtime":1637821820079,"results":"26","hashOfConfig":"25"},{"size":1069,"mtime":1637740355789,"results":"27","hashOfConfig":"25"},{"size":535,"mtime":1638075194120,"results":"28","hashOfConfig":"25"},{"size":578,"mtime":1638173520144,"results":"29","hashOfConfig":"25"},{"size":2260,"mtime":1638432146519,"results":"30","hashOfConfig":"25"},{"size":12550,"mtime":1638401299051,"results":"31","hashOfConfig":"25"},{"size":208,"mtime":1637796024235,"results":"32","hashOfConfig":"25"},{"size":3185,"mtime":1638411967002,"results":"33","hashOfConfig":"25"},{"size":3756,"mtime":1638413749631,"results":"34","hashOfConfig":"25"},{"size":1176,"mtime":1638412752035,"results":"35","hashOfConfig":"25"},{"size":3978,"mtime":1638427708694,"results":"36","hashOfConfig":"25"},{"size":320,"mtime":1637736464103,"results":"37","hashOfConfig":"25"},{"size":1197,"mtime":1638433202516,"results":"38","hashOfConfig":"25"},{"size":278,"mtime":1638412704510,"results":"39","hashOfConfig":"25"},{"size":1438,"mtime":1637795806609,"results":"40","hashOfConfig":"25"},{"size":285,"mtime":1638432260990,"results":"41","hashOfConfig":"25"},{"size":857,"mtime":1637817827069,"results":"42","hashOfConfig":"25"},{"size":4682,"mtime":1638401188604,"results":"43","hashOfConfig":"25"},{"size":826,"mtime":1637819385401,"results":"44","hashOfConfig":"25"},{"size":2140,"mtime":1638413322499,"results":"45","hashOfConfig":"25"},{"size":837,"mtime":1637738610151,"results":"46","hashOfConfig":"25"},{"size":1842,"mtime":1638431468000,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50"},"whdjc2",{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94"},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99"},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104"},"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\auth\\accessToken.js",["105"],"import connectDB from \"../../../utils/connectDB\";\r\nimport Users from \"../../../models/userModel\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { createAccessToken } from \"../../../utils/generateToken\";\r\n\r\nconnectDB();\r\n\r\nexport default async (req, res) => {\r\n  try {\r\n    const rf_token = req.cookies.refreshtoken;\r\n    if (!rf_token) return res.status(400).json({ err: \"Please login now!\" });\r\n\r\n    const result = jwt.verify(rf_token, process.env.REFRESH_TOKEN_SECRET);\r\n    if (!result)\r\n      return res\r\n        .status(400)\r\n        .json({ err: \"Your token is incorrect or has expired.\" });\r\n\r\n    const user = await Users.findById(result.id);\r\n    if (!user) return res.status(400).json({ err: \"User not found.\" });\r\n\r\n    const access_token = createAccessToken({ id: user._id });\r\n    res.json({\r\n      access_token,\r\n      user: {\r\n        username: user.username,\r\n        email: user.email,\r\n        role: user.role,\r\n        avatar: user.avatar,\r\n        root: user.root,\r\n      },\r\n    });\r\n  } catch (err) {\r\n    if (!result) return res.status(500).json({ err: err.message });\r\n  }\r\n};\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\auth\\login.js",["106"],"import connectDB from \"../../../utils/connectDB\";\r\nimport Users from \"../../../models/userModel\";\r\nimport bcrypt from \"bcrypt\";\r\nimport {\r\n  createAccessToken,\r\n  createRefreshToken,\r\n} from \"../../../utils/generateToken\";\r\n\r\nconnectDB();\r\n\r\nexport default async (req, res) => {\r\n  switch (req.method) {\r\n    case \"POST\":\r\n      await login(req, res);\r\n      break;\r\n  }\r\n};\r\n\r\nconst login = async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    const user = await Users.findOne({ email });\r\n    if (!user) return res.status(400).json({ err: \"User not found.\" });\r\n\r\n    const isMatch = await bcrypt.compare(password, user.password);\r\n    if (!isMatch) return res.status(400).json({ err: \"Incorrect password.\" });\r\n\r\n    const access_token = createAccessToken({ id: user._id });\r\n    const refresh_token = createRefreshToken({ id: user._id });\r\n\r\n    res.json({\r\n      msg: \"Login Success!\",\r\n      refresh_token,\r\n      access_token,\r\n      user: {\r\n        username: user.username,\r\n        email: user.email,\r\n        role: user.role,\r\n        avatar: user.avatar,\r\n        root: user.root,\r\n      },\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({ err: err.message });\r\n  }\r\n};\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\auth\\sign-up.js",["107"],"import connectDB from \"../../../utils/connectDB\";\r\nimport Users from \"../../../models/userModel\";\r\nimport valid from \"../../../utils/valid\";\r\nimport bcrypt from \"bcrypt\";\r\n\r\nconnectDB();\r\n\r\nexport default async (req, res) => {\r\n  switch (req.method) {\r\n    case \"POST\":\r\n      await register(req, res);\r\n      break;\r\n  }\r\n};\r\n\r\nconst register = async (req, res) => {\r\n  try {\r\n    const { username, email, password, confirmPassword } = req.body;\r\n\r\n    const errMsg = valid(username, email, password, confirmPassword);\r\n    if (errMsg) return res.status(400).json({ err: errMsg });\r\n\r\n    const user = await Users.findOne({ email });\r\n    if (user) return res.status(400).json({ err: \"This email already exists\" });\r\n\r\n    const passwordHash = await bcrypt.hash(password, 12);\r\n\r\n    const newUser = new Users({\r\n      username,\r\n      email,\r\n      password: passwordHash,\r\n      confirmPassword,\r\n    });\r\n\r\n    await newUser.save();\r\n    res.json({ msg: \"Register Success\" });\r\n  } catch (err) {\r\n    return res.status(500).json({ err: err.message });\r\n  }\r\n};\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\product\\index.js",["108"],"import connectDB from \"../../../utils/connectDB\";\r\nimport Products from \"../../../models/productModel\";\r\n\r\nconnectDB();\r\n\r\nexport default async (req, res) => {\r\n  switch (req.method) {\r\n    case \"GET\":\r\n      await getProducts(req, res);\r\n      break;\r\n  }\r\n};\r\n\r\nconst getProducts = async (req, res) => {\r\n  try {\r\n    const menu = await Products.find();\r\n\r\n    res.json({\r\n      status: \"success\",\r\n      result: menu.length,\r\n      menu,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({ err: err.message });\r\n  }\r\n};\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\api\\product\\[id].js",["109"],"import connectDB from \"../../../utils/connectDB\";\r\nimport Products from \"../../../models/productModel\";\r\n\r\nconnectDB();\r\n\r\nexport default async (req, res) => {\r\n  switch (req.method) {\r\n    case \"GET\":\r\n      await getProduct(req, res);\r\n      break;\r\n  }\r\n};\r\n\r\nconst getProduct = async (req, res) => {\r\n  try {\r\n    const { id } = req.query;\r\n\r\n    const menu = await Products.findById(id);\r\n    if (!menu) return res.status(400).json({ err: \"Menu not found.\" });\r\n\r\n    res.json({ menu });\r\n  } catch (err) {\r\n    return res.status(500).json({ err: err.message });\r\n  }\r\n};\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\cart.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\home.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\index.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\login.js",["110","111"],"import Head from \"next/head\";\r\nimport Link from \"next/link\";\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport { DataContext } from \"../store/GlobalState\";\r\nimport { postData } from \"../utils/fetchData\";\r\nimport Cookie from \"js-cookie\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nimport styles from \"../css/relog.module.css\";\r\n\r\nconst Login = () => {\r\n  const initialState = {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { email, password } = userData;\r\n\r\n  const { state, dispatch } = useContext(DataContext);\r\n  const { auth } = state;\r\n\r\n  const router = useRouter();\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n    dispatch({ type: \"NOTIFY\", payload: {} });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch({ type: \"NOTIFY\", payload: { loading: true } });\r\n\r\n    const res = await postData(\"auth/login\", userData);\r\n    if (res.err)\r\n      return dispatch({ type: \"NOTIFY\", payload: { error: res.err } });\r\n\r\n    dispatch({ type: \"NOTIFY\", payload: { success: res.msg } });\r\n\r\n    dispatch({\r\n      type: \"AUTH\",\r\n      payload: { token: res.access_token, user: res.user },\r\n    });\r\n\r\n    Cookie.set(\"refreshtoken\", res.refresh_token, {\r\n      path: \"api/auth/accessToken\",\r\n      expires: 7,\r\n    });\r\n\r\n    localStorage.setItem(\"firstLogin\", true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(auth).length !== 0) router.push(\"/menu\");\r\n  }, [auth]);\r\n\r\n  return (\r\n    <div>\r\n      <Head>\r\n        <title>Login</title>\r\n      </Head>\r\n      <Link href=\"/\">\r\n        <button type=\"button\" className={`btn ${styles.back}`}>\r\n          <i className=\"bi bi-box-arrow-left\"></i>\r\n        </button>\r\n      </Link>\r\n\r\n      <form className={`mx-auto ${styles.formLog}`} onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={handleChangeInput}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            We&apos;ll never share your email with anyone else.\r\n          </small>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={handleChangeInput}\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n          Login\r\n        </button>\r\n        <p className=\"my-2\">\r\n          You don&apos;t have an account?\r\n          <Link href=\"/sign-up\">\r\n            <a style={{ color: \"crimson\" }}> Register now</a>\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\menu\\[id].js",["112","113"],"import Head from \"next/head\";\r\nimport { useState, useContext /* useEffect, useRef */ } from \"react\";\r\nimport { getData } from \"../../utils/fetchData\";\r\nimport { DataContext } from \"../../store/GlobalState\";\r\nimport { addToCart } from \"../../store/Actions\";\r\n\r\nimport Link from \"next/link\";\r\n\r\nimport styles from \"../../css/menu.module.css\";\r\nimport BackButton from \"../../components/BackButton\";\r\n\r\nconst DetailMenu = (props) => {\r\n  const [menu] = useState(props.menu);\r\n  const [tab, setTab] = useState(0);\r\n\r\n  const { state, dispatch } = useContext(DataContext);\r\n  const { cart } = state;\r\n  // const imgRef = useRef();\r\n\r\n  const isActive = (index) => {\r\n    if (tab === index) return \" active\";\r\n    return \"\";\r\n  };\r\n  // useEffect(() => {\r\n  //   const images = imgRef.current.children;\r\n  //   for (let i = 0; i < images.length; i++) {\r\n  //     images[i].className = images[i].className.replace(\r\n  //       \"active\",\r\n  //       \"img-thumbnail rounded\"\r\n  //     );\r\n  //   }\r\n\r\n  //   images[tab].className = \"img-thumbnail rounded active\";\r\n  // }, [tab]);\r\n\r\n  return (\r\n    <>\r\n      <Link href=\"/menu\">\r\n        <a>\r\n          <BackButton />\r\n        </a>\r\n      </Link>\r\n      <div className=\"container\" style={{ marginTop: \"5px\" }}>\r\n        <div\r\n          className=\"row detail_page\"\r\n          style={{ marginTop: \"-10px\", padding: \"0 20px\" }}\r\n        >\r\n          <Head>\r\n            <title>Detail Menu</title>\r\n          </Head>\r\n\r\n          <div className=\"col-md-6\">\r\n            <img\r\n              src={menu.images[tab].url}\r\n              alt={menu.images[tab].url}\r\n              className={`d-block img-thumbnail rounded mt-4 w-100 ${styles.imgFit}`}\r\n              style={{ height: \"350px\" }}\r\n            />\r\n\r\n            <div\r\n              className=\"row mx-0\"\r\n              style={{ cursor: \"pointer\" }} /* ref={imgRef} */\r\n            >\r\n              {menu.images.map((img, index) => (\r\n                <img\r\n                  key={index}\r\n                  src={img.url}\r\n                  alt={img.url}\r\n                  className={`img-thumbnail rounded ${isActive(index)}`}\r\n                  style={{ height: \"80px\", width: \"20%\" }}\r\n                  onClick={() => setTab(index)}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-6\" style={{ paddingTop: \"20px\" }}>\r\n            <h2 className=\"text-uppercase\">{menu.title}</h2>\r\n            <p\r\n              className=\"text-uppercase\"\r\n              style={{ fontSize: \"40px\", fontWeight: \"700\" }}\r\n            >\r\n              {menu.price}k\r\n            </p>\r\n\r\n            {/* <div className=\"row mx-0 d-flex justify-content-between\">\r\n              {menu.inStock > 0 ? (\r\n                <h6 className=\"text-danger\">In Stock: {menu.inStock}</h6>\r\n              ) : (\r\n                <h6 className=\"text-danger\">Out Stock</h6>\r\n              )}\r\n\r\n              <h6 className=\"text-danger\">Sold: {menu.sold}</h6>\r\n            </div> */}\r\n\r\n            <div className=\"my-2\">{menu.description}</div>\r\n            <div className=\"my-2\">\r\n              {menu.content} {menu.content} {menu.content}\r\n            </div>\r\n\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-warning d-block my-4 px-5\"\r\n              onClick={() => dispatch(addToCart(menu, cart))}\r\n            >\r\n              Pesan\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport async function getServerSideProps({ params: { id } }) {\r\n  const res = await getData(`product/${id}`);\r\n\r\n  // server side rendering\r\n  return {\r\n    props: { menu: res.menu }, // will be passed to the page component as props\r\n  };\r\n}\r\nexport default DetailMenu;\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\menu.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\sign-up.js",["114","115"],"import Head from \"next/head\";\r\nimport Link from \"next/link\";\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport valid from \"../utils/valid\";\r\nimport { DataContext } from \"../store/GlobalState\";\r\nimport { postData } from \"../utils/fetchData\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nimport styles from \"../css/relog.module.css\";\r\n\r\nconst Register = () => {\r\n  const initialState = {\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { username, email, password, confirmPassword } = userData;\r\n\r\n  const { state, dispatch } = useContext(DataContext);\r\n  const { auth } = state;\r\n\r\n  const router = useRouter();\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n    dispatch({ type: \"NOTIFY\", payload: {} });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const errMsg = valid(username, email, password, confirmPassword);\r\n    if (errMsg) return dispatch({ type: \"NOTIFY\", payload: { error: errMsg } });\r\n\r\n    dispatch({ type: \"NOTIFY\", payload: { loading: true } });\r\n\r\n    const res = await postData(\"auth/sign-up\", userData);\r\n    if (res.err)\r\n      return dispatch({ type: \"NOTIFY\", payload: { error: res.err } });\r\n\r\n    return dispatch({ type: \"NOTIFY\", payload: { success: res.msg } });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(auth).length !== 0) router.push(\"/login\");\r\n  }, [auth]);\r\n\r\n  return (\r\n    <div>\r\n      <Head>\r\n        <title>Sign Up</title>\r\n      </Head>\r\n      <Link href=\"/\">\r\n        <button type=\"button\" className={`btn ${styles.back}`}>\r\n          <i className=\"bi bi-box-arrow-left\"></i>\r\n        </button>\r\n      </Link>\r\n\r\n      <form className={`mx-auto ${styles.formReg}`} onSubmit={handleSubmit}>\r\n        {/* USERNAME */}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={handleChangeInput}\r\n          />\r\n        </div>\r\n\r\n        {/* EMAIL */}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={handleChangeInput}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            We&apos;ll never share your email with anyone else.\r\n          </small>\r\n        </div>\r\n\r\n        {/* PASSWORD */}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={handleChangeInput}\r\n          />\r\n        </div>\r\n\r\n        {/* CONFIRM PASSWORD */}\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"exampleInputPassword2\">Confirm Password</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword2\"\r\n            name=\"confirmPassword\"\r\n            value={confirmPassword}\r\n            onChange={handleChangeInput}\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n          Sign Up\r\n        </button>\r\n        <p className=\"my-2\">\r\n          Already have an account?\r\n          <Link href=\"/login\">\r\n            <a style={{ color: \"crimson\" }}> Login now</a>\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\_app.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\pages\\_document.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\BackButton.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Footer.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Layout.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Loading.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Navbar.js",["116"],"import React, { useContext } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/router\";\r\nimport { DataContext } from \"../store/GlobalState\";\r\nimport Cookie from \"js-cookie\";\r\n\r\nimport styles from \"../css/navbar.module.css\";\r\n\r\nfunction Navbar() {\r\n  const router = useRouter();\r\n  const { state, dispatch } = useContext(DataContext);\r\n  const { auth, cart } = state;\r\n\r\n  const isActive = (r) => {\r\n    if (r === router.pathname) {\r\n      return \" active\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    Cookie.remove(\"refreshtoken\", { path: \"api/auth/accessToken\" });\r\n    localStorage.removeItem(\"firstLogin\");\r\n    dispatch({ type: \"AUTH\", payload: {} });\r\n    dispatch({ type: \"NOTIFY\", payload: { success: \"Logout!\" } });\r\n  };\r\n\r\n  const loggedRouter = () => {\r\n    return (\r\n      <>\r\n        <li className=\"nav-item dropdown\" style={{ marginTop: \"8px\" }}>\r\n          <a\r\n            className=\"nav-link dropdown-toggle\"\r\n            href=\"#\"\r\n            id=\"navbarDropdownMenuLink\"\r\n            role=\"button\"\r\n            data-toggle=\"dropdown\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <img\r\n              src={auth.user.avatar}\r\n              alt={auth.user.avatar}\r\n              style={{\r\n                borderRadius: \"50%\",\r\n                width: \"30px\",\r\n                height: \"30px\",\r\n                transform: \"translateY(-3px)\",\r\n                marginRight: \"5px\",\r\n              }}\r\n            />\r\n            <span className={styles.username}>{auth.user.username}</span>\r\n          </a>\r\n          <div\r\n            className=\"dropdown-menu\"\r\n            aria-labelledby=\"navbarDropdownMenuLink\"\r\n          >\r\n            <a\r\n              className=\"dropdown-item\"\r\n              href=\"#\"\r\n              style={{ textTransform: \"capitalize\" }}\r\n            >\r\n              Profile\r\n            </a>\r\n            <button className=\"dropdown-item\" onClick={handleLogout}>\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </li>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className={`navbar navbar-expand-lg navbar-light ${styles.navbar}`}>\r\n      <div className=\"container\">\r\n        <Link href=\"/\">\r\n          <a className={styles.navbarBrand}>Mendoan Indonesia</a>\r\n        </Link>\r\n\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarNavDropdown\"\r\n          aria-controls=\"navbarNavDropdown\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div\r\n          className=\"collapse navbar-collapse justify-content-end\"\r\n          id=\"navbarNavDropdown\"\r\n        >\r\n          <ul className=\"navbar-nav p-1\">\r\n            {/* MENU */}\r\n            <li className={styles.navLink}>\r\n              <Link href=\"/menu\">\r\n                <a className={\"nav-link\" + isActive(\"/menu\")}>MENU</a>\r\n              </Link>\r\n            </li>\r\n\r\n            {/* LOGIN */}\r\n            {Object.keys(auth).length === 0 ? (\r\n              <li className={styles.navLink}>\r\n                <Link href=\"/login\">\r\n                  <a className={\"nav-link\" + isActive(\"/login\")}>\r\n                    <i className=\"bi bi-person-fill\" aria-hidden=\"true\"></i>{\" \"}\r\n                    Login\r\n                  </a>\r\n                </Link>\r\n              </li>\r\n            ) : (\r\n              loggedRouter()\r\n            )}\r\n\r\n            {/* CART */}\r\n            <li className={styles.cart}>\r\n              <Link href=\"/cart\">\r\n                <a className={\"nav-link\" + isActive(\"/cart\")}>\r\n                  <i\r\n                    className=\"bi bi-bag-check position-relative\"\r\n                    aria-hidden=\"true\"\r\n                  >\r\n                    <span\r\n                      className=\"position-absolute\"\r\n                      style={{\r\n                        fontSize: \"14px\",\r\n                        fontStyle: \"normal\",\r\n                        fontWeight: \"bold\",\r\n                        padding: \"0px 6px\",\r\n                        background: \"#ed143dc2\",\r\n                        borderRadius: \"50%\",\r\n                        top: \"-10px\",\r\n                        right: \"-10px\",\r\n                        color: \"white\",\r\n                      }}\r\n                    >\r\n                      {cart.length}\r\n                    </span>\r\n                  </i>\r\n                </a>\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Notify.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\product\\MenuItem.js",["117"],"import Link from \"next/link\";\r\nimport { useContext } from \"react\";\r\nimport { DataContext } from \"../../store/GlobalState\";\r\nimport { addToCart } from \"../../store/Actions\";\r\n\r\nimport styles from \"../../css/menu.module.css\";\r\n\r\nconst MenuItem = ({ menu }) => {\r\n  const { state, dispatch } = useContext(DataContext);\r\n  const { cart } = state;\r\n\r\n  const userLink = () => {\r\n    return (\r\n      <>\r\n        <Link href={`/menu/${menu._id}`}>\r\n          <a className=\"btn btn-info\" style={{ marginRight: \"5px\", flex: 1 }}>\r\n            Lihat\r\n          </a>\r\n        </Link>\r\n        <button\r\n          className=\"btn btn-warning\"\r\n          style={{ marginLeft: \"5px\", flex: 1 }}\r\n          disabled={menu.inStock === 0 ? true : false}\r\n          onClick={() => dispatch(addToCart(menu, cart))}\r\n        >\r\n          Pesan\r\n        </button>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      <img\r\n        src={menu.images[0].url}\r\n        className={`card-img-top ${styles.cardImage}`}\r\n        alt={menu.images[0].url}\r\n      />\r\n\r\n      <div className={styles.cardBody}>\r\n        {/* <h5\r\n          className={`card-title text-capitalize ${styles.cardTitle}`}\r\n          title={menu.title}\r\n        >\r\n          {menu.title}\r\n        </h5> */}\r\n\r\n        <div className={`row justify-content-between mx-0 ${styles.cardTitle}`}>\r\n          <h5 className={`card-title text-capitalize `} title={menu.title}>\r\n            {menu.title}\r\n          </h5>\r\n          {/* PRICE */}\r\n          <h6 className={`text-danger ${styles.price}`}>\r\n            {menu.price}K <span>{menu.pcs}pcs</span>\r\n          </h6>\r\n\r\n          {/* STOCK MENU */}\r\n          {/* {menu.inStock > 0 ? (\r\n            <h6 className=\"text-danger\"> In Stock: {menu.inStock} </h6>\r\n          ) : (\r\n            <h6 className=\"text-danger\"> Out Stock </h6>\r\n          )} */}\r\n        </div>\r\n        <p className={styles.cardText} title={menu.description}>\r\n          {menu.description}\r\n        </p>\r\n\r\n        <div className=\"row justify-content-between mx-0\">{userLink()}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuItem;\r\n","D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\Toast.js",[],"D:\\BinarAcademy\\REACT_NEXT\\NEXTJS\\e-commerce\\ecommerce\\mendoan\\components\\CartItem.js",["118"],"import Link from \"next/link\";\r\nimport styles from \"../css/cart.module.css\";\r\n\r\nconst CartItem = ({ item, dispatch, cart }) => {\r\n  return (\r\n    <tr>\r\n      <td style={{ width: \"100px\", overflow: \"hidden\" }}>\r\n        <img\r\n          src={item.images[0].url}\r\n          alt={item.images[0].url}\r\n          className=\"img-thumbnail w-100\"\r\n          style={{ minWidth: \"80px\", height: \"80px\" }}\r\n        />\r\n      </td>\r\n\r\n      <td style={{ minWidth: \"200px\" }} className=\" align-middle\">\r\n        <h5 className=\"text-capitalize\">\r\n          <Link href={`/menu/${item._id}`}>\r\n            <a style={{ textDecoration: \"none\" }}>{item.title}</a>\r\n          </Link>\r\n        </h5>\r\n\r\n        <h6 className=\"text-danger\">{item.quantity * item.price}K</h6>\r\n        {item.inStock > 0 ? (\r\n          <p className=\"mb-1 text-danger\">In Stock: {item.inStock}</p>\r\n        ) : (\r\n          <p className=\" text-danger\">Out Stock</p>\r\n        )}\r\n      </td>\r\n\r\n      <td className=\"align-middle\" style={{ minWidth: \"150px\" }}>\r\n        <button className={`btn ${styles.button}`}>\r\n          <i\r\n            className=\"bi bi-dash-circle-fill\"\r\n            style={{ fontSize: \"25px\" }}\r\n          ></i>\r\n        </button>\r\n        <span className=\"px-3\" style={{ fontSize: \"20px\" }}>\r\n          {item.quantity}\r\n        </span>\r\n        <button className={`btn ${styles.button}`}>\r\n          <i\r\n            className=\"bi bi-plus-circle-fill\"\r\n            style={{ fontSize: \"25px\" }}\r\n          ></i>\r\n        </button>\r\n      </td>\r\n\r\n      <td\r\n        className=\"align-middle\"\r\n        style={{ minWidth: \"50px\", cursor: \"pointer\" }}\r\n      >\r\n        <i\r\n          className=\"bi bi-trash text-danger\"\r\n          aria-hidden=\"true\"\r\n          style={{ fontSize: \"25px\" }}\r\n        ></i>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n",{"ruleId":"119","severity":1,"message":"120","line":8,"column":1,"nodeType":"121","endLine":36,"endColumn":3},{"ruleId":"119","severity":1,"message":"120","line":11,"column":1,"nodeType":"121","endLine":17,"endColumn":3},{"ruleId":"119","severity":1,"message":"120","line":8,"column":1,"nodeType":"121","endLine":14,"endColumn":3},{"ruleId":"119","severity":1,"message":"120","line":6,"column":1,"nodeType":"121","endLine":12,"endColumn":3},{"ruleId":"119","severity":1,"message":"120","line":6,"column":1,"nodeType":"121","endLine":12,"endColumn":3},{"ruleId":"122","severity":1,"message":"123","line":56,"column":6,"nodeType":"124","endLine":56,"endColumn":12,"suggestions":"125"},{"ruleId":"126","severity":1,"message":"127","line":63,"column":7,"nodeType":"128","endLine":63,"endColumn":22},{"ruleId":"129","severity":1,"message":"130","line":53,"column":13,"nodeType":"128","endLine":58,"endColumn":15},{"ruleId":"129","severity":1,"message":"130","line":65,"column":17,"nodeType":"128","endLine":72,"endColumn":19},{"ruleId":"122","severity":1,"message":"123","line":48,"column":6,"nodeType":"124","endLine":48,"endColumn":12,"suggestions":"131"},{"ruleId":"126","severity":1,"message":"127","line":55,"column":7,"nodeType":"128","endLine":55,"endColumn":22},{"ruleId":"129","severity":1,"message":"130","line":41,"column":13,"nodeType":"128","endLine":51,"endColumn":15},{"ruleId":"129","severity":1,"message":"130","line":34,"column":7,"nodeType":"128","endLine":38,"endColumn":9},{"ruleId":"129","severity":1,"message":"130","line":8,"column":9,"nodeType":"128","endLine":13,"endColumn":11},"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'router'. Either include it or remove the dependency array.","ArrayExpression",["132"],"@next/next/link-passhref","passHref is missing. See https://nextjs.org/docs/messages/link-passhref","JSXOpeningElement","@next/next/no-img-element","Do not use <img>. Use Image from 'next/image' instead. See https://nextjs.org/docs/messages/no-img-element.",["133"],{"desc":"134","fix":"135"},{"desc":"134","fix":"136"},"Update the dependencies array to be: [auth, router]",{"range":"137","text":"138"},{"range":"139","text":"138"},[1562,1568],"[auth, router]",[1529,1535]]